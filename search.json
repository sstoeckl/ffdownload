[{"path":"https://www.sebastianstoeckl.com/ffdownload/CLAUDE.html","id":null,"dir":"","previous_headings":"","what":"CLAUDE.md","title":"CLAUDE.md","text":"file provides guidance Claude Code (claude.ai/code) working code repository.","code":""},{"path":"https://www.sebastianstoeckl.com/ffdownload/CLAUDE.html","id":"package-overview","dir":"","previous_headings":"","what":"Package Overview","title":"CLAUDE.md","text":"FFdownload R package downloads datasets Kenneth French’s data library, processes zipped CSV files, returns nested lists xts time-series objects (tibbles). published CRAN.","code":""},{"path":"https://www.sebastianstoeckl.com/ffdownload/CLAUDE.html","id":"common-commands","dir":"","previous_headings":"","what":"Common Commands","title":"CLAUDE.md","text":"development commands run R via terminal package root. Check package (R CMD CHECK equivalent): Build install locally: Regenerate documentation roxygen2 comments: Build pkgdown website: Rebuild README.md README.Rmd: Run package tests: Load package interactive development:","code":"devtools::check() devtools::install() devtools::document() pkgdown::build_site() devtools::build_readme() devtools::test() devtools::load_all()"},{"path":"https://www.sebastianstoeckl.com/ffdownload/CLAUDE.html","id":"architecture","dir":"","previous_headings":"","what":"Architecture","title":"CLAUDE.md","text":"package two exported/internal functions:","code":""},{"path":"https://www.sebastianstoeckl.com/ffdownload/CLAUDE.html","id":"ffdownload-rffdownloadr","dir":"","previous_headings":"Architecture","what":"FFdownload() (R/FFdownload.R)","title":"CLAUDE.md","text":"single exported user-facing function. orchestrates three-step pipeline: 1. Scrapes Kenneth French’s website HTML collect CSV zip-file links. 2. Downloads selected zip files (optionally filtered via inputlist using fuzzy string matching adist()). 3. Processes downloaded CSVs calling converter() converter_tbl() file, merges daily/non-daily variants saves result .RData file containing object named FFdata. Key parameters: output_file, tempd (persistent download directory), exclude_daily, download, download_only, listsave, inputlist, format (\"xts\" \"tbl\"/\"tibble\").","code":""},{"path":"https://www.sebastianstoeckl.com/ffdownload/CLAUDE.html","id":"converter--converter_tbl-rconverterr","dir":"","previous_headings":"Architecture","what":"converter() / converter_tbl() (R/converter.R)","title":"CLAUDE.md","text":"Internal functions (exported) parse single raw CSV file French’s website. CSV format unusual—multiple sub-tables stacked one file separated header lines. converter: - Detects section boundaries finding lines /without commas. - Assigns section names header text (lowercased, spaces replaced _; unnamed sections become Temp1, Temp2, etc.). - Distinguishes annual (4-digit date), monthly (6-digit YYYYMM), daily (8-digit YYYYMMDD) sub-tables length numeric content first column. - Returns list $annual, $monthly, $daily sub-lists, containing named xts objects (tibbles converter_tbl).","code":""},{"path":"https://www.sebastianstoeckl.com/ffdownload/CLAUDE.html","id":"output-data-structure","dir":"","previous_headings":"Architecture","what":"Output data structure","title":"CLAUDE.md","text":"FFdata named list element corresponds one dataset (e.g., FFdata$\"x_F-F_Research_Data_Factors\"), list $annual, $monthly, $daily slots, holding named xts (tibble) objects keyed sub-table name.","code":""},{"path":"https://www.sebastianstoeckl.com/ffdownload/CLAUDE.html","id":"documentation--ci","dir":"","previous_headings":"","what":"Documentation & CI","title":"CLAUDE.md","text":"Roxygen2 used documentation (RoxygenNote: 7.3.1). Edit docs source files, run devtools::document(). man/ files auto-generated — edit directly. GitHub Actions runs R-CMD-check across macOS, Windows, Ubuntu (R devel, release, oldrel-1) push/PR master. pkgdown site auto-deployed via .github/workflows/pkgdown.yaml. Vignettes live vignettes/ built knitr.","code":""},{"path":"https://www.sebastianstoeckl.com/ffdownload/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2025 FFdownload authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://www.sebastianstoeckl.com/ffdownload/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Sebastian Stoeckl. Author, maintainer.            Package commissioner maintainer. Annar Massimov. Contributor.           Original developer FFdownload.","code":""},{"path":"https://www.sebastianstoeckl.com/ffdownload/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Stoeckl S (2025). FFdownload: Download Data Kenneth French's Website. doi:10.32614/CRAN.package.FFdownload, R package version 1.1.1, https://CRAN.R-project.org/package=FFdownload.","code":"@Manual{,   title = {FFdownload: Download Data from Kenneth French's Website},   author = {Sebastian Stoeckl},   year = {2025},   note = {R package version 1.1.1},   url = {https://CRAN.R-project.org/package=FFdownload},   doi = {10.32614/CRAN.package.FFdownload}, }"},{"path":[]},{"path":[]},{"path":"https://www.sebastianstoeckl.com/ffdownload/index.html","id":"update","dir":"","previous_headings":"","what":"Update","title":"Download Data from Kenneth French's Website","text":"Version 1.1.1 corrects small error publication CRAN.","code":""},{"path":"https://www.sebastianstoeckl.com/ffdownload/index.html","id":"motivation","dir":"","previous_headings":"","what":"Motivation","title":"Download Data from Kenneth French's Website","text":"One often needs datasets empirical work tedious effort download (zipped) csv, open manually separate contained datasets. package downloads automatically, converts list xts-objects contain information csv-files.","code":""},{"path":"https://www.sebastianstoeckl.com/ffdownload/index.html","id":"contributors","dir":"","previous_headings":"","what":"Contributors","title":"Download Data from Kenneth French's Website","text":"Original code MasimovR https://github.com/MasimovR/. heavily redacted .","code":""},{"path":"https://www.sebastianstoeckl.com/ffdownload/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Download Data from Kenneth French's Website","text":"can install FFdownload CRAN directly github :","code":"install.packages(\"FFdownload\") # install.packages(\"devtools\") devtools::install_github(\"sstoeckl/FFdownload\")"},{"path":[]},{"path":"https://www.sebastianstoeckl.com/ffdownload/index.html","id":"example-0-easy-access","dir":"","previous_headings":"Examples","what":"Example 0: Easy Access","title":"Download Data from Kenneth French's Website","text":"quick-starter example. just retrieves data provides easy usage!","code":"library(FFdownload) library(tidyverse) FFdownload(inputlist = c(\"F-F_Research_Data_5_Factors_2x3\"), output_file = \"FFdata.RData\", format = \"tbl\") #>   |                                                                              |                                                                      |   0%  |                                                                              |===================================                                   |  50%  |                                                                              |======================================================================| 100% load(\"FFdata.RData\") FFdata$`x_F-F_Research_Data_5_Factors_2x3`$monthly$Temp2 |>   tidyr::pivot_longer(cols = -date, names_to = \"FFFactors\", values_to = \"Value\") |>    group_by(FFFactors) |> mutate(Price=cumprod(1+Value/100)) |>   ggplot2::ggplot(aes(x = date, col = FFFactors, y = Price)) + geom_line(lwd=1.2) +   theme_bw() + theme(legend.position=\"bottom\")"},{"path":"https://www.sebastianstoeckl.com/ffdownload/index.html","id":"example-1-monthly-files","dir":"","previous_headings":"Examples","what":"Example 1: Monthly files","title":"Download Data from Kenneth French's Website","text":"example, use FFDwonload get list available monthly zip-files save files temp.txt. Next, inspecting list specify vector inputlist download datasets actually need. final step process downloaded files (formatting output data.frames tibbles direct proceeding): check everything worked output combined file monthly factors (show first 5 rows). annual data: Finally plot wealth indices 6 factors:","code":"temptxt <- tempfile(fileext = \".txt\") # example_1: Use FFdownload to get a list of all monthly zip-files. Save that list as temptxt. FFdownload(exclude_daily=TRUE,download=FALSE,download_only=TRUE,listsave=temptxt) FFlist <- readr::read_csv(temptxt) %>% dplyr::select(2) %>% dplyr::rename(Files=x) FFlist %>% dplyr::slice(1:3,(dplyr::n()-2):dplyr::n()) #> # A tibble: 6 × 1 #>   Files                                           #>   <chr>                                           #> 1 F-F_Research_Data_Factors_CSV.zip               #> 2 F-F_Research_Data_Factors_weekly_CSV.zip        #> 3 F-F_Research_Data_Factors_daily_CSV.zip         #> 4 Emerging_Markets_4_Portfolios_BE-ME_OP_CSV.zip  #> 5 Emerging_Markets_4_Portfolios_OP_INV_CSV.zip    #> 6 Emerging_Markets_4_Portfolios_BE-ME_INV_CSV.zip tempd <- tempdir() inputlist <- c(\"F-F_Research_Data_Factors\",\"F-F_Momentum_Factor\",\"F-F_ST_Reversal_Factor\",\"F-F_LT_Reversal_Factor\") FFdownload(exclude_daily=TRUE,tempd=tempd,download=TRUE,download_only=TRUE,inputlist=inputlist) tempf <- paste0(tempd,\"\\\\FFdata.RData\") getwd() #> [1] \"D:/OneDrive - University of Liechtenstein/ROOT/Packages/ffdownload\" FFdownload(output_file = tempf, exclude_daily=TRUE,tempd=tempd,download=FALSE,            download_only=FALSE,inputlist = inputlist, format=\"tbl\") #>   |                                                                              |                                                                      |   0%  |                                                                              |==================                                                    |  25%  |                                                                              |===================================                                   |  50%  |                                                                              |====================================================                  |  75%  |                                                                              |======================================================================| 100% library(timetk) load(file = tempf) FFdata$`x_F-F_Research_Data_Factors`$monthly$Temp2 %>%    left_join(FFdata$`x_F-F_Momentum_Factor`$monthly$Temp2, by=\"date\") %>%   left_join(FFdata$`x_F-F_LT_Reversal_Factor`$monthly$Temp2,by=\"date\") %>%   left_join(FFdata$`x_F-F_ST_Reversal_Factor`$monthly$Temp2,by=\"date\") %>% head() #> # A tibble: 6 × 8 #>   date      Mkt.RF   SMB   HML    RF   Mom LT_Rev ST_Rev #>   <yearmon>  <dbl> <dbl> <dbl> <dbl> <dbl>  <dbl>  <dbl> #> 1 Jul 1926    2.89 -2.55 -2.39  0.22    NA     NA  -1.76 #> 2 Aug 1926    2.64 -1.14  3.81  0.25    NA     NA   1.43 #> 3 Sep 1926    0.38 -1.36  0.05  0.23    NA     NA  -0.07 #> 4 Okt 1926   -3.27 -0.14  0.82  0.32    NA     NA  -2.03 #> 5 Nov 1926    2.54 -0.11 -0.61  0.31    NA     NA   0.98 #> 6 Dez 1926    2.62 -0.07  0.06  0.28    NA     NA   1.95 FFfive <- FFdata$`x_F-F_Research_Data_Factors`$annual$`annual_factors:_january-december` %>%    left_join(FFdata$`x_F-F_Momentum_Factor`$annual$`january-december` ,by=\"date\") %>%   left_join(FFdata$`x_F-F_LT_Reversal_Factor`$annual$`january-december`,by=\"date\") %>%   left_join(FFdata$`x_F-F_ST_Reversal_Factor`$annual$`january-december` ,by=\"date\")  FFfive %>% head() #> # A tibble: 6 × 8 #>   date      Mkt.RF    SMB    HML    RF   Mom LT_Rev ST_Rev #>   <yearmon>  <dbl>  <dbl>  <dbl> <dbl> <dbl>  <dbl>  <dbl> #> 1 Dez 1927    29.4  -2.2   -4.58  3.12  24.4  NA    -18.7  #> 2 Dez 1928    35.6   3.73  -5.26  3.56  26.5  NA     -8.82 #> 3 Dez 1929   -19.6 -30.7   11.9   4.75  19.7  NA    -15.0  #> 4 Dez 1930   -31.1  -5.53 -11.8   2.41  24.1  NA     -1.18 #> 5 Dez 1931   -44.8   3.07 -13.7   1.07  23.3  -4.62  27.2  #> 6 Dez 1932    -9.6   5.03  11.7   0.96 -20.6  14.1   27.9 FFfive %>%    pivot_longer(Mkt.RF:ST_Rev,names_to=\"FFVar\",values_to=\"FFret\") %>% mutate(FFret=FFret/100,date=as.Date(date)) %>%    filter(date>=\"1960-01-01\",!FFVar==\"RF\") %>% group_by(FFVar) %>% arrange(FFVar,date) %>%   mutate(FFret=ifelse(date==\"1960-01-01\",1,FFret),FFretv=cumprod(1+FFret)-1) %>%    ggplot(aes(x=date,y=FFretv,col=FFVar,type=FFVar)) + geom_line(lwd=1.2) + scale_y_log10() +   labs(title=\"FF5 Factors plus Momentum\", subtitle=\"Cumulative wealth plots\",ylab=\"cum. returns\") +    scale_colour_viridis_d(\"FFvar\") +   theme_bw() + theme(legend.position=\"bottom\") #> Warning in transformation$transform(x): NaNs wurden erzeugt #> Warning in scale_y_log10(): log-10 transformation introduced infinite values. #> Warning: Removed 11 rows containing missing values or values outside the scale range #> (`geom_line()`)."},{"path":"https://www.sebastianstoeckl.com/ffdownload/index.html","id":"authorlicense","dir":"","previous_headings":"Examples","what":"Author/License","title":"Download Data from Kenneth French's Website","text":"Sebastian Stöckl - Package Creator, Modifier & Maintainer - sstoeckl github academic website project licensed MIT License - see license.md file details.","code":""},{"path":"https://www.sebastianstoeckl.com/ffdownload/index.html","id":"acknowledgment","dir":"","previous_headings":"Examples","what":"Acknowledgment","title":"Download Data from Kenneth French's Website","text":"grateful Kenneth French providing great research data website! lives much harder without boost productivity. also grateful kind conversation Kenneth regard package: appreciates work package giving others easier access data sets!","code":""},{"path":"https://www.sebastianstoeckl.com/ffdownload/reference/FFdownload.html","id":null,"dir":"Reference","previous_headings":"","what":"Downloads Datasets from Kenneth French's Website — FFdownload","title":"Downloads Datasets from Kenneth French's Website — FFdownload","text":"FFdownload returns RData file (possibility exclude large daily) datasets Kenneth French's Website. help researchers work datasets update regularly. Allows reproducible research. aware processing (especially including daily files) takes quite long time!","code":""},{"path":"https://www.sebastianstoeckl.com/ffdownload/reference/FFdownload.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Downloads Datasets from Kenneth French's Website — FFdownload","text":"","code":"FFdownload(   output_file = \"data.Rdata\",   tempd = NULL,   exclude_daily = FALSE,   download = TRUE,   download_only = FALSE,   listsave = NULL,   inputlist = NULL,   format = \"xts\" )"},{"path":"https://www.sebastianstoeckl.com/ffdownload/reference/FFdownload.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Downloads Datasets from Kenneth French's Website — FFdownload","text":"output_file name .RData file saved (include path necessary) tempd specify want keep downloaded files somewhere save. Seems necessary reproducible research files website change time time exclude_daily excludes daily datasets (downloaded) ==> speeds process considerably download set TRUE actually want download . set false specify tempd keep processing already downloaded files download_only set FALSE want process downloaded files listsave NULL, list unzipped files saved (good processing limited number files inputlist). written inputlist processed. inputlist NULL, FFdownload tries match names list list zip-files format (set xts) specify \"xts\" \"tbl\"/\"tibble\" output format nested lists","code":""},{"path":"https://www.sebastianstoeckl.com/ffdownload/reference/FFdownload.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Downloads Datasets from Kenneth French's Website — FFdownload","text":"RData file","code":""},{"path":"https://www.sebastianstoeckl.com/ffdownload/reference/FFdownload.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Downloads Datasets from Kenneth French's Website — FFdownload","text":"","code":"if (FALSE) { # \\dontrun{ tempf <- tempfile(fileext = \".RData\"); outd <- paste0(tempdir(),\"/\",format(Sys.time(), \"%F_%H-%M\")) temptxt <- tempfile(fileext = \".txt\")  # Example 1: Use FFdownload to get a list of all monthly zip-files. Save that list as temptxt.  FFdownload(exclude_daily=TRUE,download=FALSE,download_only=TRUE,listsave=temptxt) read.delim(temptxt,sep = \",\") # set vector with only files to download (we try a fuzzyjoin, so \"Momentum\" should be enough to get # the Momentum Factor) inputlist <- c(\"Research_Data_Factors\",\"Momentum_Factor\",\"ST_Reversal_Factor\",\"LT_Reversal_Factor\") # Now process only these files if they can be matched (download only) FFdownload(exclude_daily=FALSE,tempd=outd,download=TRUE,download_only=FALSE, inputlist=inputlist,output_file = tempf) list.files(outd) # Then process all the downloaded files FFdownload(output_file = tempf, exclude_daily=TRUE,tempd=outd,download=FALSE, download_only=FALSE,inputlist=inputlist) load(tempf); FFdata$`x_F-F_Momentum_Factor`$monthly$Temp2[1:10]  # Example 2: Download all non-daily files and process them  # Commented out to not being tested # tempf2 <- tempfile(fileext = \".RData\"); # outd2<- paste0(tempdir(),\"/\",format(Sys.time(), \"%F_%H-%M\")) # FFdownload(output_file = tempf2,tempd = outd2, exclude_daily = TRUE, download = TRUE, # download_only=FALSE, listsave=temptxt) # load(tempf2) # FFdownload$x_25_Portfolios_5x5$monthly$average_value_weighted_returns } # }"},{"path":"https://www.sebastianstoeckl.com/ffdownload/reference/converter.html","id":null,"dir":"Reference","previous_headings":"","what":"Converter to read downloaded datasets and automatically put them into one large dataframe with xts — converter","title":"Converter to read downloaded datasets and automatically put them into one large dataframe with xts — converter","text":"converter read/clean/write","code":""},{"path":"https://www.sebastianstoeckl.com/ffdownload/reference/converter.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Converter to read downloaded datasets and automatically put them into one large dataframe with xts — converter","text":"","code":"converter(file)"},{"path":"https://www.sebastianstoeckl.com/ffdownload/reference/converter.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Converter to read downloaded datasets and automatically put them into one large dataframe with xts — converter","text":"file downloaded dataset","code":""},{"path":"https://www.sebastianstoeckl.com/ffdownload/reference/converter.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Converter to read downloaded datasets and automatically put them into one large dataframe with xts — converter","text":"list annual/monthly/daily files","code":""},{"path":"https://www.sebastianstoeckl.com/ffdownload/reference/converter_tbl.html","id":null,"dir":"Reference","previous_headings":"","what":"Converter to read downloaded datasets and automatically put them into one large dataframe with xts — converter_tbl","title":"Converter to read downloaded datasets and automatically put them into one large dataframe with xts — converter_tbl","text":"converter read/clean/write","code":""},{"path":"https://www.sebastianstoeckl.com/ffdownload/reference/converter_tbl.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Converter to read downloaded datasets and automatically put them into one large dataframe with xts — converter_tbl","text":"","code":"converter_tbl(file)"},{"path":"https://www.sebastianstoeckl.com/ffdownload/reference/converter_tbl.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Converter to read downloaded datasets and automatically put them into one large dataframe with xts — converter_tbl","text":"file downloaded dataset","code":""},{"path":"https://www.sebastianstoeckl.com/ffdownload/reference/converter_tbl.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Converter to read downloaded datasets and automatically put them into one large dataframe with xts — converter_tbl","text":"list annual/monthly/daily files","code":""},{"path":"https://www.sebastianstoeckl.com/ffdownload/news/index.html","id":"ffdownload-111","dir":"Changelog","previous_headings":"","what":"FFdownload 1.1.1","title":"FFdownload 1.1.1","text":"CRAN release: 2023-10-12 Release CRAN previous package version archived due broken travis link.","code":""},{"path":"https://www.sebastianstoeckl.com/ffdownload/news/index.html","id":"ffdownload-11","dir":"Changelog","previous_headings":"","what":"FFdownload 1.1","title":"FFdownload 1.1","text":"Resubmit CRAN Added possibility create list tibbles rather list xts. Also added appropriate vignettes.","code":""},{"path":"https://www.sebastianstoeckl.com/ffdownload/news/index.html","id":"ffdownload-106","dir":"Changelog","previous_headings":"","what":"FFdownload 1.0.6","title":"FFdownload 1.0.6","text":"CRAN release: 2021-05-27 Resubmit CRAN Corrected variable names similar corresponding command (FFdownload -> FFdata, tempdir -> tempd). potentially breaking change, additionally included warning message package loaded. Also corrected date converter annual data Dec year. Additionally fixed download/download_only problem now working","code":""},{"path":"https://www.sebastianstoeckl.com/ffdownload/news/index.html","id":"ffdownload-105","dir":"Changelog","previous_headings":"","what":"FFdownload 1.0.5","title":"FFdownload 1.0.5","text":"CRAN release: 2020-10-29 Resubmit CRAN Fixed long line commented example","code":""},{"path":"https://www.sebastianstoeckl.com/ffdownload/news/index.html","id":"ffdownload-104","dir":"Changelog","previous_headings":"","what":"FFdownload 1.0.4","title":"FFdownload 1.0.4","text":"Resubmit CRAN wraped examples download donttest{} cran tests anyway (see https://stackoverflow.com/questions/63693563/issues--r-package--cran-asked--replace-dontrun--donttest) also commented second example takes time (dontrun() seems also liked cran)","code":""},{"path":"https://www.sebastianstoeckl.com/ffdownload/news/index.html","id":"ffdownload-103","dir":"Changelog","previous_headings":"","what":"FFdownload 1.0.3","title":"FFdownload 1.0.3","text":"Resubmit CRAN","code":""},{"path":"https://www.sebastianstoeckl.com/ffdownload/news/index.html","id":"ffdownload-102","dir":"Changelog","previous_headings":"","what":"FFdownload 1.0.2","title":"FFdownload 1.0.2","text":"Added NEWS.md file track changes package. Added slight changes suggested CRAN","code":""}]
