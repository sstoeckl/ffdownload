<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Downloads Datasets from Kenneth French's Website — FFdownload • FFdownload</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Downloads Datasets from Kenneth French's Website — FFdownload"><meta name="description" content="FFdownload returns an RData file with all (possibility to exclude the large daily) datasets from Kenneth French's Website.
Should help researchers to work with the datasets and update the regularly. Allows for reproducible research. Be aware that processing
(especially when including daily files) takes quite a long time!"><meta property="og:description" content="FFdownload returns an RData file with all (possibility to exclude the large daily) datasets from Kenneth French's Website.
Should help researchers to work with the datasets and update the regularly. Allows for reproducible research. Be aware that processing
(especially when including daily files) takes quite a long time!"><meta property="og:image" content="https://www.sebastianstoeckl.com/ffdownload/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">FFdownload</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.2.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/assetpricing.html">Empirical Asset Pricing with FFdownload</a></li>
    <li><a class="dropdown-item" href="../articles/FFD-tibble-how-to.html">How-to in the Tidyverse</a></li>
    <li><a class="dropdown-item" href="../articles/FFD-xts-how-to.html">How-to xts</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/sstoeckl/ffdownload/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Downloads Datasets from Kenneth French's Website</h1>
      <small class="dont-index">Source: <a href="https://github.com/sstoeckl/ffdownload/blob/master/R/FFdownload.R" class="external-link"><code>R/FFdownload.R</code></a></small>
      <div class="d-none name"><code>FFdownload.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>FFdownload</code> returns an RData file with all (possibility to exclude the large daily) datasets from Kenneth French's Website.
Should help researchers to work with the datasets and update the regularly. Allows for reproducible research. Be aware that processing
(especially when including daily files) takes quite a long time!</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">FFdownload</span><span class="op">(</span></span>
<span>  output_file <span class="op">=</span> <span class="st">"data.Rdata"</span>,</span>
<span>  tempd <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  exclude_daily <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  download <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  download_only <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  listsave <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  inputlist <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  format <span class="op">=</span> <span class="st">"xts"</span>,</span>
<span>  na_values <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  return_data <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  action <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  cache_days <span class="op">=</span> <span class="cn">Inf</span>,</span>
<span>  match_threshold <span class="op">=</span> <span class="fl">0.3</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-output-file">output_file<a class="anchor" aria-label="anchor" href="#arg-output-file"></a></dt>
<dd><p>name of the .RData file to be saved (include path if necessary)</p></dd>


<dt id="arg-tempd">tempd<a class="anchor" aria-label="anchor" href="#arg-tempd"></a></dt>
<dd><p>specify if you want to keep downloaded files somewhere save. Seems to be necessary for
reproducible research as the files on the website do change from time to time</p></dd>


<dt id="arg-exclude-daily">exclude_daily<a class="anchor" aria-label="anchor" href="#arg-exclude-daily"></a></dt>
<dd><p>excludes the daily datasets (are not downloaded) ==&gt; speeds the process up considerably</p></dd>


<dt id="arg-download">download<a class="anchor" aria-label="anchor" href="#arg-download"></a></dt>
<dd><p>set to TRUE if you actually want to download again. set to false and specify tempd to keep processing the already downloaded files</p></dd>


<dt id="arg-download-only">download_only<a class="anchor" aria-label="anchor" href="#arg-download-only"></a></dt>
<dd><p>set to FALSE if you want to process all your downloaded files at once</p></dd>


<dt id="arg-listsave">listsave<a class="anchor" aria-label="anchor" href="#arg-listsave"></a></dt>
<dd><p>if not NULL, the list of unzipped files is saved here (good for processing only a limited number of files through inputlist).
Is written before inputlist is processed.</p></dd>


<dt id="arg-inputlist">inputlist<a class="anchor" aria-label="anchor" href="#arg-inputlist"></a></dt>
<dd><p>if not NULL, FFdownload tries to match the names from the list with the list of zip-files</p></dd>


<dt id="arg-format">format<a class="anchor" aria-label="anchor" href="#arg-format"></a></dt>
<dd><p>(set to xts) specify "xts" or "tbl"/"tibble" for the output format of the nested lists</p></dd>


<dt id="arg-na-values">na_values<a class="anchor" aria-label="anchor" href="#arg-na-values"></a></dt>
<dd><p>numeric vector of sentinel values to replace with <code>NA</code> (e.g. <code>c(-99, -999, -99.99)</code>).
French's files use -99.99 or -999 to denote missing observations. Default <code>NULL</code> preserves the original
behaviour (no replacement).</p></dd>


<dt id="arg-return-data">return_data<a class="anchor" aria-label="anchor" href="#arg-return-data"></a></dt>
<dd><p>logical. If <code>TRUE</code>, the <code>FFdata</code> list is returned invisibly in addition to being
saved to <code>output_file</code>. Default <code>FALSE</code> preserves the original behaviour.</p></dd>


<dt id="arg-action">action<a class="anchor" aria-label="anchor" href="#arg-action"></a></dt>
<dd><p>convenience alternative to the <code>download</code>/<code>download_only</code> flag pair.
One of <code>"all"</code> (download + process), <code>"list_only"</code> (save file list only),
<code>"download_only"</code> (download but do not process), or <code>"process_only"</code> (process already-downloaded
files from <code>tempd</code>). When <code>action</code> is provided it overrides <code>download</code> and
<code>download_only</code>. Default <code>NULL</code> retains the original flag-based behaviour.</p></dd>


<dt id="arg-cache-days">cache_days<a class="anchor" aria-label="anchor" href="#arg-cache-days"></a></dt>
<dd><p>numeric. When greater than 0 and less than <code>Inf</code>, zip files already present in
<code>tempd</code> that are younger than <code>cache_days</code> days are reused instead of being re-downloaded.
Default <code>Inf</code> preserves the original behaviour (never re-download an existing file).</p></dd>


<dt id="arg-match-threshold">match_threshold<a class="anchor" aria-label="anchor" href="#arg-match-threshold"></a></dt>
<dd><p>numeric in [0,1]. If the similarity between a requested <code>inputlist</code> entry and
its fuzzy-matched filename is below this threshold a warning is emitted. Use <code><a href="FFmatch.html">FFmatch()</a></code> to inspect
matches before downloading. Default <code>0.3</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Invisibly returns the <code>FFdata</code> list when <code>return_data = TRUE</code>; otherwise called for its
side-effect of writing an RData file.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="va">tempf</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span>fileext <span class="op">=</span> <span class="st">".RData"</span><span class="op">)</span>; <span class="va">outd</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>,<span class="st">"/"</span>,<span class="fu"><a href="https://rdrr.io/r/base/format.html" class="external-link">format</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.time</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"%F_%H-%M"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">temptxt</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span>fileext <span class="op">=</span> <span class="st">".txt"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example 1: Use FFdownload to get a list of all monthly zip-files. Save that list as temptxt.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">FFdownload</span><span class="op">(</span>exclude_daily<span class="op">=</span><span class="cn">TRUE</span>,download<span class="op">=</span><span class="cn">FALSE</span>,download_only<span class="op">=</span><span class="cn">TRUE</span>,listsave<span class="op">=</span><span class="va">temptxt</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.delim</a></span><span class="op">(</span><span class="va">temptxt</span>,sep <span class="op">=</span> <span class="st">","</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># set vector with only files to download (we try a fuzzyjoin, so "Momentum" should be enough to get</span></span></span>
<span class="r-in"><span><span class="co"># the Momentum Factor)</span></span></span>
<span class="r-in"><span><span class="va">inputlist</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Research_Data_Factors"</span>,<span class="st">"Momentum_Factor"</span>,<span class="st">"ST_Reversal_Factor"</span>,<span class="st">"LT_Reversal_Factor"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Now process only these files if they can be matched (download only)</span></span></span>
<span class="r-in"><span><span class="fu">FFdownload</span><span class="op">(</span>exclude_daily<span class="op">=</span><span class="cn">FALSE</span>,tempd<span class="op">=</span><span class="va">outd</span>,download<span class="op">=</span><span class="cn">TRUE</span>,download_only<span class="op">=</span><span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>inputlist<span class="op">=</span><span class="va">inputlist</span>,output_file <span class="op">=</span> <span class="va">tempf</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files</a></span><span class="op">(</span><span class="va">outd</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Then process all the downloaded files</span></span></span>
<span class="r-in"><span><span class="fu">FFdownload</span><span class="op">(</span>output_file <span class="op">=</span> <span class="va">tempf</span>, exclude_daily<span class="op">=</span><span class="cn">TRUE</span>,tempd<span class="op">=</span><span class="va">outd</span>,download<span class="op">=</span><span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>download_only<span class="op">=</span><span class="cn">FALSE</span>,inputlist<span class="op">=</span><span class="va">inputlist</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/load.html" class="external-link">load</a></span><span class="op">(</span><span class="va">tempf</span><span class="op">)</span>; <span class="va">FFdata</span><span class="op">$</span><span class="va">`x_F-F_Momentum_Factor`</span><span class="op">$</span><span class="va">monthly</span><span class="op">$</span><span class="va">Temp2</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example 2: Use action parameter and return data directly</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">FFdata</span> <span class="op">&lt;-</span> <span class="fu">FFdownload</span><span class="op">(</span></span></span>
<span class="r-in"><span>  inputlist <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"F-F_Research_Data_5_Factors_2x3"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  output_file <span class="op">=</span> <span class="va">tempf</span>,</span></span>
<span class="r-in"><span>  action <span class="op">=</span> <span class="st">"all"</span>,</span></span>
<span class="r-in"><span>  na_values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">99</span>, <span class="op">-</span><span class="fl">999</span>, <span class="op">-</span><span class="fl">99.99</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  return_data <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">FFdata</span><span class="op">$</span><span class="va">`x_F-F_Research_Data_5_Factors_2x3`</span><span class="op">$</span><span class="va">monthly</span><span class="op">$</span><span class="va">Temp2</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Sebastian Stoeckl.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

